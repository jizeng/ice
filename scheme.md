##常见方法  
###1、数据库auto_increment  

优点：  

* 简单，使用数据库已有的功能

* 能够保证唯一性

* 能够保证递增性

* 步长固定


缺点：
    
* 可用性难以保证：数据库常见架构是一主多从+读写分离，生成自增ID是写请求，主库挂了就玩不转了

* 扩展性差，性能有上限：因为写入是单点，数据库主库的写性能决定ID的生成性能上限，并且难以扩展  


改进方法：

* 冗余主库，避免写入单点

* 数据水平切分，保证各主库生成的ID不重复  

>由1个写库变成3个写库，每个写库设置不同的auto_increment初始值，以及相同的增长步长，以保证每个数据库生成的ID是不同的（上图中库0生成0,3,6,9…，库1生成1,4,7,10，库2生成2,5,8,11…）


###2、类snowflake算法  
>snowflake是twitter开源的分布式ID生成算法，其核心思想为，一个long型的ID：

* 41bit作为毫秒数

* 10bit作为机器编号

* 12bit作为毫秒内序列号